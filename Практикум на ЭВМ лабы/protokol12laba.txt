daniel@daniel:~$ cat head.txt
-------------------------------------------------------------------------------
| Лабораторная работа №12         |
  Техника работы с целыми числами. Системы счисления. 
  Выполнил: студент группы М8о-101Б-19
| Пивницкий Даниэль Сергеевич     |
-------------------------------------------------------------------------------- 
daniel@daniel:~$ cat main.c
#include <stdio.h>

int main(){
    int aPower, bPower, cPower; //степень 10, необходимая для составления новых чисел
    int x, a, b, c, sum; //входное число, результат
    a = b = c = sum = 0;
    aPower = bPower = cPower = 1;
    scanf("%d", &x);

    while(x > 0){
        if((x%10)%3 == 0){ //последняя цифра при делении на 3 дает остаток 0?
            a += (x%10)*aPower;
            aPower *= 10;
        }
        if((x%10)%3 == 1){ //последняя цифра при делении на 3 дает остаток 1?
            b += (x%10)*bPower;
            bPower *= 10;
        }
        if((x%10)%3 == 2){ //последняя цифра при делении на 3 дает остаток 2?
            c += (x%10)*cPower;
            cPower *= 10;
        }
        x /= 10;
    }
    sum = a + b + c;
    printf("%d, %d, %d, %d\n", a, b, c, sum);

}
daniel@daniel:~$ gcc main12_22.c 
daniel@daniel:~$ cat - > in.txt
1231415
daniel@daniel:~$ ./a.out 
1345
daniel@daniel:~$